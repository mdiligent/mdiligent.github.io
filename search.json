[{"title":"MySql和PyMysql基本操作","url":"/2021/03/08/others/use-mysql-01/","content":"\n参考[阳光沙滩](https://bbs.sunofbeaches.com/portal.php)，[菜鸟教程](https://www.runoob.com/mysql/mysql-tutorial.html)。\n\n主键约束\n唯一约束\n\ncmd登录\n```\nmysql -hlocalhost -uroot -p密码       //显式登录，没有空格\nmysql -hlocalhost -uroot -p  //隐式登录，再敲入密码，可能比较安全\n```\n<!-- more-->\n\n数据库操作\n\n```\n显示数据库，不要忘了s    \nshow databases； \n \n创建数据库，[]里为可选参数，默认数据库安装时选择的类型\ncreate database 名称 [character set 编码类型];   \n\n修改数据库编码\nalter database <数据库名称> character <编码类型>;\n\n显示数据库编码\t\nshow create database <名称>; \t\n\n删除数据库\ndrop database <数据库名称>\n\n切换数据库\nuse <数据库名称>;\n```\n数据表操作\n```\n创建数据表\ncreate table <数据表名称> (字段1 数据类型, 字段2 数据类型，字段2 数据类型......);\n\n查看数据表\nshow tables;\n\n删除数据表\ndrop table <表名>;\n\n查看数据表编码\nshow create <数据表名称>;\n\n修改数据表编码\nalter table <数据表名称> character <编码类型>;\n\n查看数据表结构\ndec <数据表名称>;\n\n添加新字段\nalter <字段名称> add 字段 类型;\n\n修改类型\nalter table <数据表名称> modify <字段名称> 修改的类型;\n\n修改字段名称\nalter table <数据表名称> change <旧表名称> <新表名称> <字段类型>;\n\n删除字段\nalter table <数据表名称> drop <字段名称>\n\n修改数据表名称\nrename table <旧数据表名称> to <新数据表名称>\n\n```\n\n```\n主键约束，在字段后加上 primary key 表示是主键\n\n唯一约束加个 unique \n\n非空约束加个 not null\n\n删除主键约束，如果添加了自动增长auto_increment，要先修改否则会报错\nalter table <数据表名称> drop primary key \n\n删除唯一约束\nalter table 数据表名称 drop index 字段名称\n\n```\n数据的插入、查询和删除等\n```\n插入数据，插入中文需要和服务配置的编码一样\ninsert into <表名> (字段1， 字段2，...) values (值1， 值2....);\n\n查询表中的数据,*表示所有字段，asc表示升序，desc表示降序，查询多个列用“,”隔开。\nselect * from 表名;\nselect <列名> from <表名> order by <列名> asc;\nselect <列名> as <别名> from <表名> order by <列名> asc;\n\n模糊匹配,like子句,%类似正则的通配符用来匹配任意内容,一个下划线\"_\"，代表一个占位符,有字长限制时用\nselect * from <表名> where name like '%wang';\nselect * from <表名> where name like 'wang__';\n\n分组用group by，with rollup 可以实现在分组统计数据基础上再进行相同的统计\nselect name, count(*) from   employee_tbl group by name;\nSELECT name, SUM(singin) as singin_count FROM  employee_tbl GROUP BY name WITH ROLLUP;\n\n删除数据\ndelete from <表名> where <限制条件>;\n\n修改,改为null时，where子句表示条件，要用 is null 而不是=,in表示被包含\nupdate <表名> set <字段> = <值> where <条件>;\nupdate person set name = \"Tom\" where salary = 3000;\n\n```\n[索引](https://www.runoob.com/mysql/mysql-index.html)\n[使用join](https://www.runoob.com/mysql/mysql-join.html)\n数据库备份与恢复\n```\n备份\nmysqldump -h服务器地址 -u用户名 -p(密码回车写) 数据库名称 > 数据备份的路径\n\n恢复\nmysql -u 用户名 -p(密码回车写) 新数据名称（如果不同的数据库服务器，那么可以是相同的名字） < 数据路径\n```\n[常用函数](https://www.runoob.com/mysql/mysql-functions.html)\n#### Pymysql\n\n```\n在这里插入代码片\n```\n\n#### 注意：\n<>都用来表示分隔，不需要敲入代码中。\nSQL 对大小写不敏感。\n配置文件路径：`‪F:\\extension\\mysql-8.0.15-winx64\\my.ini`\n查询操作可以使用 and 或者or 指定一个或多个条件，使用binary 关键字来设定 where 子句的字符串比较是区分大小写的。\n退出MySql命令行：一个分号“ ；”或者“\\c”后回车。\n判断是否为空要用`is null` 和`is not null`,<=>比较操作符，当比较的的两个值为 NULL 时返回 true。","tags":["mysql"],"categories":["数据库"]},{"title":"Anaconda和Jupyter的使用","url":"/2021/03/08/ai/use-conda-jupyter/","content":"\n### anaconda换源和恢复默认\n查看当前使用源\n\n```powershell\nconda config --show-sources\n```\n恢复默认源\n\n```powershell\nconda config --remove-key channels\n```\n添加清华源（是http，后边再加个win-64，可能还需要打开.condarc删除default选项）\n\n```powershell\nconda config --add channels http://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/main/win-64/\nconda config --add channels http://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free/win-64/\nconda config --add channels http://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/r\n```\n\n##### 常见问题\n问题：Anaconda：WARNING: The conda.compat module is deprecated and will be removed in a future release.\n原因：清华源出现问题或者conda需要更新。\n解决办法：换源，更新conda`conda update conda`\n\n**问题**：今天突然又不能用了，我重置设置成同样的又能用了，不知道是不是以为我自己的网络问题，还是配置不对。\n\n**参考**：https://www.cnblogs.com/tianlang25/p/12433025.html\nhttps://blog.csdn.net/zhankai1122/article/details/95861918\n清华anaconda源使用介绍：https://mirror.tuna.tsinghua.edu.cn/help/anaconda/\n\n### Jupyter切换虚拟环境\n1.创建一个虚拟环境。\n2.激活某个虚拟环境\n\n```powershell\n非必需，不弄这一步就没有conda_nb插件\nconda install nb_conda\n```\n\n3.在此环境中中安装好ipykernel \n```powershell\nconda install ipykernel\n```\n4.将此环境（也可以是别的环境）添加到ipython的kernel中，只输入<>块之前的就可\n\n```powershell\npython -m ipykernel install <--user> --name myenv <--display-name \"Python (myenv)\">\n```\n##### 删除kernel中的环境\n1. 查看当前的kernel及其路径的命令\n\n\t```powershell\n\tjupyter kernelspec list\n\t```\n2. 进入那个文件夹把对应目录删除\n\n**注意**：要删除虚拟环境，需要先删除kernel。\n\n[https://blog.csdn.net/Junhao_Lu/article/details/100625831](https://blog.csdn.net/Junhao_Lu/article/details/100625831)\n###### 可能遇见的问题：\n- ImportError: cannot import name 'generator_to_async_generator'\n\n\t```powershell\n\tpip uninstall -y ipython prompt_toolkit\n\tpip install ipython prompt_toolkit\n\t```\n\n- ModuleNotFoundError: No module named 'IPython.core'\n\n\t```powershell\n\tpip install ipython --ignore-installed ipython\n\t```\n\n- 打开conda管理环境报错EnvironmentLocationNotFound: Not a conda environment: F:\\Anaconda3\\envs\\Anaconda3\n\n\t解决方法：[https://www.jianshu.com/p/7d8ce818a923](https://www.jianshu.com/p/7d8ce818a923)，因为我把一个虚拟环境设置了环境变量，所以启动的jupyter是虚拟环境中的，所以修改文件需要去修改虚拟环境目录的文件。\n\n### Jupyter 重装\n\n1.手动删除所有包\n```powershell\nhttps://blog.csdn.net/sheqianweilong/article/details/89843250\n```\n2.再手动删除`Lib/site-packges`和`Scripts`下所有jupyter相关的文件\n\n3.重新安装\n\n```powershell\npip install --upgrade --force-reinstall --no-cache-dir jupyter\n```\n参考：[https://blog.csdn.net/sheqianweilong/article/details/89843250](https://blog.csdn.net/sheqianweilong/article/details/89843250)\n\n##### 遇到的问题\n[解决 Cannot uninstall 'ipython'. It is a distutils installed project and thus we cannot accurately det](https://blog.csdn.net/qq_37928340/article/details/80393125)\n\n### Jupyter 使用技巧\n - ##### 更改工作目录\n\t**需知**：在命令行中打开jupyter，默认工作目录时安装目录，除非cd到指定路径(或者在某个文件夹右键)打开，但是指定了工作目录，就没法打开指定目录了，可以自行斟酌，根据需求取舍。\n\t\n\t**设置工作目录具体步骤**：\n\t\n\t```powershell\n\tjupyter notebook --generate-config\n\t```\n\t在系统盘，用户名文件夹下的`.jupyter`文件夹下修改`jupyter_notebook_config.py`，修改`c.NotebookApp.notebook_dir`的值。\n\n### pip永久切换国内源\n\n```powershell\npip config set global.index-url https://mirrors.aliyun.com/pypi/simple\n```\n然后即使是conda创建的虚拟环境，使用pip时也使用更改后的源。\n### 常识\nconda install 是为所激活的虚拟环境安装包，而不是所有虚拟环境共享。\n\n因为我设置了环境变量，所以每次我启动jupyter时，都是启动虚拟环境中的，而不是conda的默认base环境中的。\n\n使用conda install其实包都安装到激活的环境中去了。","tags":["jupyter","anaconda"],"categories":["工具"]},{"title":"Matplotlib入门","url":"/2021/03/07/ds/introduce-matplotlib-01/","content":"\n### 基础知识\n\n- pyplot是Matplotlib 软件包中子包，提供了一个类似MATLAB的绘图框架。导入\n\n```\nimport matplotlib.pyplot as plt\n```\n\n<!-- more -->\n\nfigure图像\n\n```\nmatplotlib.pyplot.figure(num=None, figsize=None, dpi=None, facecolor=None, edgecolor=None, frameon=True, FigureClass=<class 'matplotlib.figure.Figure'>, clear=False, **kwargs)\n# num 图像标号\n#  figsize ： 整数元组，可选，默认值：无，宽度，高度（英寸）。\n#  dpi ： 整数，可选，默认值：无，这个数字的分辨率\n#  facecolor：背景颜色。\n#   edgecolor：边框颜色。\n#   frameon ： bool，optional，默认值：True，如果为False，则禁止绘制图框。\n#   FigureClass ：的 子类Figure（可选）使用自定义Figure实例。\n#   clear ： bool，可选，默认值：False，如果为True并且该图已经存在，那么它将被清除。\n```\n\n绘图函数\n\n```\nplt.plot(x，y，fmt,scalex = True，scaley = True，data = None，** kwargs ）\n#  x,y 数据点的水平/垂直坐标\n#   fmt = '[color][marker][line]'颜色、标记和线条样式\n#   scalex，scaley 默认值：True，这些参数确定视图限制是否适合数据限制。值将传递给autoscale_view。\n```\n\n绘制多个图可以两次调用plot函数或者在函数里传入多组参数。\n注意：如果为plot（）命令提供单个列表或数组，则matplotlib假定它是一系列y值，并自动为您生成x值。由于python范围以0开头，因此默认的x向量与y的长度相同，但以0开头。\n\n使用Line2D属性作为关键字参数来更好地控制外观。行属性和fmt可以混合使用。以下两个调用产生相同的结果：\n\n```\n>>> plot(x, y, 'go--', linewidth=2, markersize=12)\n>>> plot(x, y, color='green', marker='o', linestyle='dashed',\n...      linewidth=2, markersize=12)\n```\n\n设置坐标轴\n\n```\nplt.xlim((-1, 2))   #设置x坐标轴范围\nplt.ylim((-2, 3))   #设置y坐标轴范围\nplt.xlabel('I am x')#设置x坐标轴名称\nplt.ylabel('I am y')#设置x坐标轴名称\nplt.xticks()        #设置x轴刻度，无参则不显示x轴\nplt.yticks          #设置y轴刻度以及名称\n```\n\n- 使用plt.gca获取当前坐标轴信息. 使用.spines设置边框：右侧边框；使用.set_color设置边框颜色：默认白色； 使用.spines设置边框：上边框；使用.set_color设置边框颜色：默认白色；\n- 使用.xaxis.set_ticks_position设置x坐标刻度数字或名称的位置：bottom.（所有位置：top，bottom，both，default，none）\n- ax.xaxis.set_ticks_position(‘bottom’)\n  使用.spines设置边框：x轴；使用.set_position设置边框位置：y=0的位置；（位置所有属性：outward，axes，data）\n  （y轴类似）\n- 图例\n\n首先对图中的两条线绘制图例，设置两条线的类型等信息，用变量 l1 和 l2 分别存储起来. 而且需要注意的是 l1, l2,要以逗号结尾, 因为plt.plot() 返回的是一个列表。\n\n```\nl1, = plt.plot(x, y1, label='linear line')\nl2, = plt.plot(x, y2, color='red', linewidth=1.0, linestyle='--', label='square line')\nplt.legend(handles=[l1, l2], labels=['up', 'down'],  loc='best')\n# handles线，依次对应labels的名称\n# labels 图例名称\n# loc图例的位置，’loc’参数有多种，’best’表示自动分配最佳位置\n```\n\n### 作图\n\n- 柱状图\n\n```\nimport matplotlib.pyplot as plt\nimport numpy as np\n\nn = 12\nX = np.arange(n)\nY1 = (1 - X / float(n)) * np.random.uniform(0.5, 1.0, n)\nY2 = (1 - X / float(n)) * np.random.uniform(0.5, 1.0, n)\nplt.bar(X, +Y1)\nplt.bar(X, -Y2)\nplt.xlim(-.5, n)\nplt.xticks(())\nplt.ylim(-1.25, 1.25)\nplt.yticks(())\n#添加颜色\nplt.bar(X, +Y1, facecolor='#9999ff', edgecolor='white')\nplt.bar(X, -Y2, facecolor='#ff9999', edgecolor='white')\n\n# 添加数字\nfor x, y in zip(X, Y2):\n    plt.text(x + 0.4, -y - 0.05, '%.2f' % y, ha='center', va='top')\n```\n\n- 散点图\n\n```\nplt.scatter(X, Y, s=75, c=T, alpha=.5)\n#输入X和Y作为location，size=75，颜色为T，color map用默认值，\n透明度alpha 为 50%。 x轴显示范围定位(-1.5，1.5)，\n并用xtick()函数来隐藏x坐标轴，y轴同理。\n```\n\n- 填充颜色\n\n```\na = np.array([0.313660827978, 0.365348418405, 0.423733120134,\n              0.365348418405, 0.439599930621, 0.525083754405,\n              0.423733120134, 0.525083754405, 0.651536351379]).reshape(3,3)\nplt.imshow(a, interpolation='nearest', cmap='bone', origin='lower')\n#按照a数组填充颜色\n#出图方式，多种参数值可选\nplt.colorbar(shrink=.92)  #添加颜色备注条\n```\n\n- 3D图\n\n```\nfrom mpl_toolkits.mplot3d import Axes3D  #额外添加这个模块\nfig = plt.figure() #创建窗口\nax = Axes3D(fig) #添加3D坐标轴\n\nX = np.arange(-4, 4, 0.25)\nY = np.arange(-4, 4, 0.25)\nX, Y = np.meshgrid(X, Y)    # x-y 平面的网格\nR = np.sqrt(X ** 2 + Y ** 2)\nZ = np.sin(R)\nx.plot_surface(X, Y, Z, rstride=1, cstride=1, cmap=plt.get_cmap('rainbow'))\n#做出一个三维曲面，并将一个 colormap rainbow 填充颜色，其中，rstride 和 cstride 分别代表 row 和 column 的跨度。\nax.contourf(X, Y, Z, zdir='z', offset=-2, cmap=plt.get_cmap('rainbow'))\n#添加等高线，即在x/y轴上的投影\n```\n\n- 多图显示\n\n```\nplt.subplot(a,b,c) #把figure分成a行b列，图画在第c个格，可以不要逗号\n```\n\n- 次坐标轴\n  获取figure默认的坐标系 ax1\n\n```\nfig, ax1 = plt.subplots()\nax2 = ax1.twinx()   #对ax1调用twinx()方法，生成如同镜面效果后的ax2\n```\n\n参考：\n[莫烦Python](https://morvanzhou.github.io/tutorials/data-manipulation/plt/)\n[Pyplot API](https://matplotlib.org/api/_as_gen/matplotlib.pyplot.html#module-matplotlib.pyplot)","tags":["matplotlib"],"categories":["数据科学"]},{"title":"pandas入门","url":"/2021/03/07/ds/introduce-pandas/","content":"\n### 可以创建空系列，从ndarray、字典、标量等创建序列。\n\n```\npandas.Series( data, index, dtype, copy)\n#data\t数据采取各种形式，如：ndarray，list，constants\n#index\t索引值必须是唯一的和散列的，与数据的长度相同。 默认#np.arange(n)如果没有索引被传递。\n#dtype\tdtype用于数据类型。如果没有，将推断数据类型\n#copy\t复制数据，默认为false。\n```\n\n<!-- more-->\n\n### 数据帧(DataFrame)是二维数据结构，即数据以行和列的表格方式排列。\n\n```\npandas.DataFrame( data, index, columns, dtype, copy)\n#   data\t数据采取各种形式，如:ndarray，series，map，lists，dict，# #    constant和另一个DataFrame。\n#\tindex\t对于行标签，要用于结果帧的索引是可选缺省值np.arrange(n)，如果没有传递索引值。\n#\tcolumns\t对于列标签，可选的默认语法是 - np.arange(n)。 这只有在没有索引传递的情况下才是这样。\n#\tdtype\t每列的数据类型。\n#\tcopy\t如果默认值为False，则此命令(或任何它)用于复制数据。\n```\n\n示例：\n\n```\nimport pandas as pd\nd = {'one' : pd.Series([1, 2, 3], index=['a', 'b', 'c']),\n      'two' : pd.Series([1, 2, 3, 4], index=['a', 'b', 'c', 'd'])}#创建\n```\n\n列选择，列添加，列删除\n\n```\nprint df ['one']   #选择名为one的列      \ndf['three']=pd.Series([10,20,30],index=['a','b','c'])   #添加three列\ndel df['one']  #删除one列\n```\n\n行选择，添加和删除\n\n```\nprint df.loc['b']  #行标签传递给loc()函数来选择行\nprint df.iloc[2]   #整数位置传递给iloc()函数来选择行\n```\n\n行切片\n\n```\nprint df[2:4]\n```\n\n行删除\n\n```\ndf = df.drop(0)  #删除0标签的行\n```\n\n使用append()函数将新行添加到DataFrame\n\n```\nimport pandas as pd\n\ndf = pd.DataFrame([[1, 2], [3, 4]], columns = ['a','b'])\ndf2 = pd.DataFrame([[5, 6], [7, 8]], columns = ['a','b'])\n\ndf = df.append(df2)\nprint df\n```\n\n遍历数据帧(DataFrame)中的行，可以使用以下函数\n\n```\niteritems()   #迭代(key，value)对\niterrows()    # 将行迭代为(索引，系列)对\nitertuples()  # 以namedtuples的形式迭代行\n```\n\n### 创建面板\n\n```\npandas.Panel(data, items, major_axis, minor_axis, dtype, copy)\n#data\t数据采取各种形式，如：ndarray，series，map，lists，dict，#  #constant和另一个数据帧(DataFrame)\n#items\taxis=0\n#major_axis\taxis=1\n#minor_axis\taxis=2\n#dtype\t每列的数据类型\n#copy\t复制数据，默认 - false\n```\n\nMajor_axis和Minor_axis维。\n\n### 常见属性：\n\n```\naxes\t返回行轴标签列表。\ndtype\t返回对象的数据类型(dtype)。\nempty\t如果系列为空，则返回True。\nndim\t返回底层数据的维数，默认定义：1。\nsize\t返回基础数据中的元素数。\nvalues\t将系列作为ndarray返回。\n```\n\n### 常用方法：\n\n```\nhead()\t返回前n行。\ntail()\t返回最后n行。\nsum(axis) 返回所请求轴的值的总和，默认情况下，轴为索引(axis=0列)。\ncount()\t非空观测数量\nmean()\t所有值的平均值\nmedian()\t所有值的中位数\nmode()\t值的模值\nstd()\t值的标准偏差\nmin()\t所有值中的最小值\nmax()\t所有值中的最大值\nabs()\t绝对值\nprod()\t数组元素的乘积\ncumsum()\t累计总和\ncumprod()\t累计乘积\ndescribe()函数是用来计算有关DataFrame列的统计信息的摘要（就是可以计算好多个函数）。\n```\n\n排序\n\n```\nsort_index()  #按标签排序\nsort_values() #是按值排序\n```\n\n字符串函数：\n调用时要加上str，例如：\n\n```\nimport pandas as pd\nimport numpy as np\ns = pd.Series(['Tom', 'William Rick', 'John', 'Alber@t', np.nan, '1234','SteveMinsu'])\n\nprint (s.str.lower())\nlower()\t将Series/Index中的字符串转换为小写。\nupper()\t将Series/Index中的字符串转换为大写。\nlen()\t计算字符串长度。\nstrip()\t帮助从两侧的系列/索引中的每个字符串中删除空格(包括换行符)。\nsplit(' ')\t用给定的模式拆分每个字符串。\ncat(sep=' ')\t使用给定的分隔符连接系列/索引元素。\nget_dummies()\t返回具有单热编码值的数据帧(DataFrame)。\ncontains(pattern)\t如果元素中包含子字符串，则返回每个元素的布尔值True，否则为False。\nreplace(a,b)\t将值a替换为值b。\nrepeat(value)\t重复每个元素指定的次数。\ncount(pattern)\t返回模式中每个元素的出现总数。\nstartswith(pattern)\t如果系列/索引中的元素以模式开始，则返回true。\nendswith(pattern)\t如果系列/索引中的元素以模式结束，则返回true。\nfind(pattern)\t返回模式第一次出现的位置。\nfindall(pattern)\t返回模式的所有出现的列表。\nswapcase\t变换字母大小写。\nislower()\t检查系列/索引中每个字符串中的所有字符是否小写，返回布尔值\nisupper()\t检查系列/索引中每个字符串中的所有字符是否大写，返回布尔值\nisnumeric()\t检查系列/索引中每个字符串中的所有字符是否为数字，返回布尔值。\n```\n\n参考\n[Pandas教程](https://www.yiibai.com/pandas/python_pandas_caveats_and_gotchas.html)\n\n图片源自网络，侵删！.","tags":["pandas"],"categories":["数据科学"]},{"title":"numpy基础操作-01","url":"/2021/03/06/ai/numpy-base-op-01/","content":"\n[//]:title:numpy-base-op-01\n\n学习NumPy库，把一些重要的或者难的用法记录下来，方便复习。\n\n1.从数值范围创建数组\n\n```\n numpy.arange(start, stop, step, dtype)#参数分别为起始值，终止值，步长和数据类型\n```\n2.创建等间隔一维数组\n\n```\nnp.linspace(start, stop, num=50, endpoint=True, retstep=False, dtype=None)#参数分别为起始值，终止值，数据数，是否包含stop值，是否显示间距和数据类型\n```\n\n<!-- more -->\n\n 3.创建一个 ndarray\n\n```\nnumpy.array(object, dtype = None, copy = True, order = None, subok = False, ndmin = 0)\n#object   数组或嵌套的数列\n#dtype\t数组元素的数据类型，可选\n#copy\t对象是否需要复制，可选\n#order\t创建数组的样式，C为行方向，F为列方向，A为任意方向（默认）\n#subok\t默认返回一个与基类类型一致的数组\n#ndmin\t指定生成数组的最小维度\n```\n\n 4.数据类型对象 (dtype)\n\n```\nnumpy.dtype(object, align, copy)\n#object - 要转换为的数据类型对象\n#align - 如果为 true，填充字段使其类似 C 的结构体。\n#copy - 复制 dtype 对象 ，如果为 false，则是对内置数据类型对象的引用\n```\n\n 注意：字节顺序是通过对数据类型预先设定\"<\"或\">\"来决定的。\"<\"意味着小端法(最小值存储在最小的地址，即低位组放在最前面)。\">\"意味着大端法(最重要的字节存储在最小的地址，即高位组放在最前面)。\n 5. NumPy 创建数组\n\n```\nnumpy.empty(shape, dtype = float, order = 'C')\n#shape\t数组形状\n#dtype\t数据类型，可选\n#order\t有\"C\"和\"F\"两个选项,分别代表，行优先和列优先，在计算机内存中的存储元素的顺序。\n```\n6.NumPy 从已有的数组创建数组\n\n```\nnumpy.asarray(a, dtype = None, order = None)\n#a\t任意形式的输入参数，可以是，列表, 列表的元组, 元组, 元组的元组, 元组的列表，多维数组\n#dtype\t数据类型，可选\n#order\t可选，有\"C\"和\"F\"两个选项,分别代表，行优先和列优先，在计算机内存中的存储元素的顺序。\n```\n7. 使用数字 0 将一个全为 1 的 5x5 二维数组包围\n```\nZ = np.ones((5,5))\nZ = np.pad(Z, pad_width=1, mode='constant', constant_values=0)\n```\n 8. 创建一个 5x5 的二维数组，并设置值 1, 2, 3, 4 落在其对角线下方`Z = np.diag(1+np.arange(4),k=-1)`\n 9. 创建一个 10x10 的二维数组，并使得 1 和 0 沿对角线间隔放置\n```\nZ = np.zeros((10,10),dtype=int)\nZ[1::2,::2] = 1\nZ[::2,1::2] = 1\n```\n 10.  创建一个 0-10 的一维数组，并将 (1, 9] 之间的数全部反转成负数\n```\nZ = np.arange(11)\nZ[(1 < Z) & (Z <= 9)] *= -1\n```\n 11. 找出两个一维数组中相同的元素\n\n\n```\nZ1 = np.random.randint(0,10,10)\nZ2 = np.random.randint(0,10,10)\nprint(\"Z1:\", Z1)\nprint(\"Z2:\", Z2)\nnp.intersect1d(Z1,Z2)\n```\n\n 12. 统计数组各行的算术平均值\n\n```\nnp.mean(a, axis=1)\n```\n\n 13.  统计数组各列的加权平均值\n\n```\nnp.average(a, axis=0)\n```\n14.统计中位数，方差，标准差等。\n15.沿横 / 纵轴分割数组\n\n```\nnp.hsplit(a, 3)\nnp.vsplit(a, 3)\n```\n16.返回每列最大值\n\n```\nnp.max(a, axis=0) #行最大值axis = 1\n```\n17. 返回每列最大值索引\n\n```\nnp.argmax(a, axis=0) #最小值是argmin函数\n```\n18.找出两个一维数组中相同的元素\n`np.intersect1d(Z1,Z2)`\n19.使用 NumPy 打印昨天、今天、明天的日期\n\n```\nyesterday = np.datetime64('today', 'D') - np.timedelta64(1, 'D')\ntoday     = np.datetime64('today', 'D')\ntomorrow  = np.datetime64('today', 'D') + np.timedelta64(1, 'D')\nprint(\"yesterday: \", yesterday)\nprint(\"today: \", today)\nprint(\"tomorrow: \", tomorrow)\n```\n20.数组排序\n\n```\nZ.sort()#升序排序\nZ.sort(axis=0)#列升序\n```\n21.将 float32 转换为整型\n\n```\nZ = np.arange(10, dtype=np.float32)\nZ = Z.astype(np.int32, copy=False)\n```\n22.将随机二维数组按照第 3 列从上到下进行升序排列\n\n```\nZ = np.random.randint(0,10,(5,5))#生成一个5行5列数值在0~10之间的数组\nZ[Z[:,2].argsort()]\n```\n23.交换前两行可以直接这样吗?\n```\nA[[0,1]] = A[[1,0]]\n```\n24.找出随机一维数组Z中出现频率最高的值\n```\nnp.bincount(Z).argmax()\n```\n25.统计随机数组中的各元素的数量\n\n```\nZ = np.random.randint(0,100,25).reshape(5,5)\nnp.unique(Z, return_counts=True) # 返回值中，第 2 个数组对应第 1 个数组元素的数量\n```\n26.将多个 1 维数组拼合为单个 Ndarray\n```\nZ = np.array([Z1, Z2, Z3])\nnp.concatenate(Z)\n```\n27.使用 NumPy 计算变量直接的相关性系数\n```\nZ = np.array([\n    [1, 2, 1, 9, 10, 3, 2, 6, 7], # 特征 A\n    [2, 1, 8, 3, 7, 5, 10, 7, 2], # 特征 B\n    [2, 1, 1, 8, 9, 4, 3, 5, 7]]) # 特征 C\nnp.corrcoef(Z)\n```\n28.使用 NumPy 计算矩阵的特征值和特征向量\n\n```\nM = np.matrix([[1,2,3], [4,5,6], [7,8,9]])\nw, v = np.linalg.eig(M)\n# w 对应特征值，v 对应特征向量\n```\n29.打印九九乘法表\n\n```\nnp.fromfunction(lambda i, j: (i + 1) * (j + 1), (9, 9))\n```\n30.使用 Numpy 将实验楼 LOGO 转换为 Ndarray 数组\n\n```\nfrom io import BytesIO\nfrom PIL import Image\nimport PIL, requests\n\n# 通过链接下载图像\nURL = 'https://static.shiyanlou.com/img/logo-black.png'\nresponse = requests.get(URL)\n\n# 将内容读取为图像\nI = Image.open(BytesIO(response.content))\n\n# 将图像转换为 Ndarray\nshiyanlou = np.asarray(I)\nshiyanlou\n# 将转换后的 Ndarray 重新绘制成图像\nfrom matplotlib import pyplot as plt\n%matplotlib inline\nplt.imshow(shiyanlou)\nplt.show()\n```\n31.几个常用的函数\n```\nflat #返回\n\nnp.nonzero([1,0,2,0,1,0,4,0])#返回一维数组中非 0 元素的位置索引\n\nnp.dot(A, B)#矩阵相乘\n\nnp.power(x,4)#对x数组的每个值4次方\n\nnp.set_printoptions(precision=2)#对于二维随机数组中各元素，保留其 2 位小数\n\nZ/1e3#科学记数法输出 NumPy（Z） 数组\n\na.argsort()#打印各元素在数组中升序排列的索引\n\na.real #属性，数组a的实部\na.imag #属性，数组a的虚部\n\nnumpy.linalg.inv()# 函数计算矩阵的乘法逆矩阵。\n\nnumpy.linalg.solve() #函数给出了矩阵形式的线性方程的解。\n\numpy.matlib.eye() #函数返回一个矩阵，对角线元素为 1，其他位置为零。\n\nnp.c_[M1, M2]#按列连接两个数组\nnp.r_[M1, M2]#按行连接两个数组\n```\n32.数组属性\n\n```\nndarray.ndim\t秩，即轴的数量或维度的数量\nndarray.shape\t数组的维度，对于矩阵，n 行 m 列\nndarray.size\t数组元素的总个数，相当于 .shape 中 n*m 的值\nndarray.dtype\tndarray 对象的元素类型\nndarray.itemsize\tndarray 对象中每个元素的大小，以字节为单位\nndarray.flags\tndarray 对象的内存信息\nndarray.real\tndarray元素的实部\nndarray.imag\tndarray 元素的虚部\nndarray.data\t包含实际数组元素的缓冲区，由于一般通过数组的索引获取元素，所以通常不需要使用这个属性。\n```\n\n参考：\n[实验楼NumPy 百题大冲关](https://www.shiyanlou.com/courses/1090)\n[NumPy教程](http://www.runoob.com/numpy/numpy-tutorial.html)","tags":["python","numpy"],"categories":["数据科学"]},{"title":"git基本操作","url":"/2021/03/06/others/git-base-op/","content":"\n[ // ]:title:git-base-op\n\n## Git基本操作\n\n- 配置用户名和邮箱地址。\n\n```\n$ git config --global user.name[username]- 全局用户\n$ git config --global user.email [你的电子邮件地址]- 全局用户,注意没有[]\n```\n\n- 在一个新文件夹下\n\n  $ git init #初始化一个本地存储库，会生成.git这个子目录\n\n  ls -a #显示当前文件或目录的内容，包括隐藏文件\n\n  <!-- more -->\n\n- 从远程存储库拷贝贝一个Git仓库到本地\n  `git clone [url]#自己能够查看该项目，或者进行修改。`\n\n```\ngit add           #命令可将该文件添加到缓存\ngit status        #命令用于查看项目的当前状态。\ngit commit        #将缓存区内容添加到仓库中。\n```\n\n- 执行git diff来查看执行git status的结果的详细信息（新手不是很常用）。\n\n```\ngit diff               #尚未缓存的改动\ngit diff --cached      #查看已缓存的改动\ngit diff HEAD          #查看已缓存的与未缓存的所有改动\ndiff：git diff --stat  #显示摘要而非整个\n```\n\n- `git reset HEAD`命令用于取消已缓存的内容。\n\n- 如果只是简单地从工作目录中手工删除文件，运行git status时就会在未提交提交的提示。\n\n  要从Git中移除某个文件，就必须要从已跟踪文件清单中移除，然后提交。可以用以下命令完成此项工作\n\n  git rm <文件>\n\n  如果删除之前修改过并且已经放到暂存区域的话，则必须要用强制删除选项-f\n\n```\ngit rm -f <file>- f <file>\n```\n\n`git log` 命令列出历史提交记录。\n如果把文件从暂存区域移除，但仍然希望保留在当前工作目录中，换句话说，仅是从跟踪清单中删除，使用–cached选项即可\n\n```\ngit rm --cached <file>- 缓存<file>\n```\n\n`git mv [原文件名] [新文件名]`命令用于移动或重命名一个文件，目录，软连接\n\n```\n$ git commit -m \"添加 README.md 文件\"        # 提交并备注信息\n```\n\n## Git 分支管理\n\n```\ngit branch (branchname)   #创建分支\ngit checkout (branchname) #切换分支\ngit merge                 #合并分支\ngit branch -d (branchname)#删除分支\n```\n\n## 使用GitHub\n\n```\ngit remote add [shortname] [url]   #要添加一个新的远程仓库\n```\n\n- 本地Git仓库和GitHub仓库之间的传输是通过SSH加密的，所以我们需要配置验证信息： 使用以下命令生成SSH Key：\n\n```\n$ ssh-keygen -t rsa -C \"youremail@example.com\"  \n```\n\n查看命令行上显示的.ssh文件夹位置，进去，打开 id_rsa.pub，复制里面的 key。回到 github 上，进入 Account => Settings（账户配置）。边选择 SSH and GPG keys，然后点击 New SSH key 按钮,title 设置标题，可以随便填，粘贴在你电脑上生成的 key。\n\n```\n$ ssh -T git@github.com    #验证是否成功\n$ git fetch [远程仓库名]    #从远程仓库下载新分支与数据\ncat README.md              # 查看 README.md 文件内容\ngit push [alias] [branch]   #推送你的新分支与数据到某个远端仓库命令\ngit remote rm [别名]        #删除远程仓库\n```\n\n将远程存储库中的更改合并到当前分支中。在默认模式下，`git pull`是`git fetch`后跟`git merge FETCH_HEAD`的缩写。\n实例：\n\n```\n$ mkdir runoob-git-test                     # 创建测试目录\n$ cd runoob-git-test/                       # 进入测试目录\n$ echo \"测试\" >> README.md                  # 创建 README.md 文件并写入内容\n$ ls                                        # 查看目录下的文件\nREADME\n$ git init                                  # 初始化\n$ git add README.md                         # 添加文件\n$ git commit -m \"添加 README.md 文件\"        # 提交并备注信息\n[master (root-commit) 0205aab] 添加 README.md 文件\n 1 file changed, 1 insertion(+)\n create mode 100644 README.md\n\n# 提交到 Github\n$ git remote add origin git@github.com:tianqixin/runoob-git-test.git\n$ git push -u origin master\n```\n\n参考：\n[Git教程|菜鸟教程](http://www.runoob.com/git/git-tutorial.html)\n图片来自网络，侵删。","tags":["git"],"categories":["野生技术"]},{"title":"用hexo在github上搭建个人博客","url":"/2021/03/06/others/use-hexo-create-blog/","content":"\n[//]: title:use-hexo-create-blog\n\n#### node.js下载及hexo配置\n\n1. [下载](https://nodejs.org/zh-cn/download/)node.js（msn版），全选安装，新版本会自动加到path，并且自带了npm。   \n\n2. （这一步可以不做）参考博客园的一篇文章，把npm下载的默认文件夹位置修改了。在nodejs文件夹下新建【node_global】及【node_cache】两个文件夹，创建完两个空文件夹之后，打开cmd命令窗口，输入下边的代码，把路径替换成你建的两个文件夹路径\n\n   <!-- more -->\n\n```\nnpm config set prefix \"D:\\Develop\\nodejs\\node_global\"\nnpm config set cache \"D:\\Develop\\nodejs\\node_cache\"\n```\n\n3. 可能在安装hexo等的时候会经常卡住，推荐换成淘宝的源，打开cmd输入\n\n```\nnpm config set registry https://registry.npm.taobao.org \n```\n\n   配置后可通过 `npm config get registry `或`npm info express`来验证是否成功。\n\n4. 在node.js目录下安装hexo,进入NodeJS的安装目录，输入\n\n```\nnpm install -g hexo\n```\n\n 没有配置环境变量导致不能使用hexo命令行,所以需要添加环境变量，根据你的文件位置，类似`C:\\ProgramFiles\\nodejs\\node_global\\node_modules\\hexo\\bin`。\n\n5.新建一个文件夹用来存放博客，在这个文件夹下打开命令行，依次输入\n\n```\nhexo init\nnpm install\nhexo g\nhexo s\n```\n\n6.访问[http://localhost:4000](http://localhost:4000/)即可看到你的博客。\n\n如果没出现页面，而是一串代码，可能是在npm install安装依赖时出现了错误。\n\n[解决方法](https://blog.csdn.net/m0_46493091/article/details/106891882)：我们可以先执行`npm install ejs@2.7.4 --ignore-scripts`后再继续后重新`npm install`。\n\n另外：安装其它依赖出现错误时，也可能是这种错误，根据提示输入这行命令，只不过要把名字修改一下。\n\n#### 把本地博客托管到Github\n\n在github新建一个存储库，名称一定要为username.github.io（username为你的github账户名），进入settings选择githubpages，要先选择主题才能启用githubpages。更换主题，https://hexo.io/themes/ 在上边选好主题，照着做克隆下来，根据教程修改thems里的config文件好了。\n\n不管配置哪个config文件都要有键值对之间冒号后都要有空格。站点config.yml文件要添加\n\n![img](https://img-blog.csdnimg.cn/20190113164748109.png)![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)\n\n注意：写博客时，好像是先在文章里贴标签，才在分类里有标签，而不是先设置标签供选择。\n\n参考博客：https://www.cnblogs.com/dantefung/p/d8c48ba8030bcab7cfc364d423186fee.html\n\nhttps://blog.csdn.net/edxuanlen/article/details/79154116\n\nhttps://www.cnblogs.com/liuxianan/p/build-blog-website-by-hexo-github.html\n\nhttps://blog.csdn.net/tonydandelion2014/article/details/61615898\n\nhttps://www.cnblogs.com/jackyroc/p/7681938.html\n\nhttps://www.cnblogs.com/dantefung/p/d8c48ba8030bcab7cfc364d423186fee.html\n\nhttps://www.cnblogs.com/trista222/p/8017300.html","tags":["hexo","个人博客"],"categories":["野生技术"]}]